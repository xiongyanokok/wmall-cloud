<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="utf-8">
<meta name="renderer" content="webkit|ie-comp|ie-stand">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
<link rel="stylesheet" type="text/css" th:href="@{/static/h-ui/css/H-ui.min.css}" />
<link rel="stylesheet" type="text/css" th:href="@{/static/h-ui.admin/css/H-ui.login.css}" />
<link rel="stylesheet" type="text/css" th:href="@{/static/h-ui.admin/css/style.css}" />
<link rel="stylesheet" type="text/css" th:href="@{/lib/Hui-iconfont/1.0.8/iconfont.css}" />
<title>缇丽莎尔微商管理系统</title>
<style type="text/css">
	.header {
		top: 0;
		height: 80px;
		background: #426374 no-repeat 0 center;
	}
	
	.error {
		background-color: #fbe2e2;
    	border-color: #c66161;
    	color: #c00;
	}
</style>
</head>
<body>
<div class="header"><h1><p class="c-white">&nbsp;&nbsp;缇丽莎尔微商管理系统</p></h1></div>
<div class="loginWraper">
  <div id="loginform" class="loginBox">
	<h2 align="center" style="padding-top: 0px;">新代理注册</h2>
    <form id="form" action="/register" method="post" class="form form-horizontal">
      <div class="row cl">
        <label class="form-label col-xs-3" style="margin-top: 10px;">验证码</label>
        <div class="formControls">
          <input id="code" name="code" type="text" placeholder="验证码" class="input-text size-L" maxlength="33" />
          <span id="code_text" style="color: red; font-size: 12px; display: none;" >请输入验证码</span>
        </div>
      </div>
      <div class="row cl">
        <label class="form-label col-xs-3" style="margin-top: 10px;">用户名</label>
        <div class="formControls">
          <input id="username" name="username" type="text" placeholder="用户名" class="input-text size-L" maxlength="20" />
          <span id="username_text" style="color: red; font-size: 12px; display: none;" >请输入用户名</span>
        </div>
      </div>
      <div class="row cl">
        <label class="form-label col-xs-3" style="margin-top: 10px;">密码</label>
        <div class="formControls">
          <input id="password" name="password" type="password" placeholder="密码" class="input-text size-L" maxlength="20" />
          <span id="password_text" style="color: red; font-size: 12px; display: none;" >请输入密码</span>
        </div>
      </div>
      <div class="row cl">
        <div class="formControls col-xs-offset-3">
          <input id="register" type="button" class="btn btn-success radius size-L" value="&nbsp;注&nbsp;&nbsp;&nbsp;&nbsp;册&nbsp;">
          <a style="padding-left: 10px;" href="/">立即登录</a>
        </div>
      </div>
    </form>
  </div>
</div>
<div class="footer">7 * 24小时联系方式：熊焱 15001187708 </div>
</body>
</html>
<script type="text/javascript" th:src="@{/lib/jquery/1.9.1/jquery.min.js}"></script> 
<script type="text/javascript" th:src="@{/static/h-ui/js/H-ui.min.js}"></script>
<script type="text/javascript" th:src="@{/lib/layer/2.4/layer.js}"></script>
<script th:inline="javascript">
	$(function(){
		$("body").keydown(function(event) {
	        if (event.keyCode == "13") {//keyCode=13是回车键
	         $("#register").click();
	        }
	    });
		
		$("#register").click(function() {
			$("#code").removeClass("error");
			$("#username").removeClass("error");
			$("#password").removeClass("error");
			$("#code_text").hide();
			$("#username_text").hide();
			$("#password_text").hide();
			
			var code = $("#code").val();
			var username = $("#username").val();
			var password = $("#password").val();
			if (!code) {
				$("#code").addClass("error");
				$("#code_text").show();
				return false;
			}
			if (!username) {
				$("#username").addClass("error");
				$("#username_text").show();
				return false;
			} 
			if (!password) {
				$("#password").addClass("error");
				$("#password_text").show();
				return false;
			}
			
			$("#register").attr("disabled","disabled");
			$("#form").ajaxSubmit(function(result) {
				layer.alert(result.message);
				$("#register").removeAttr("disabled");
			});
			$("#code").val("");
			$("#username").val("");
			$("#password").val("");
		});
	});
</script>